{"version":3,"names":["LINKING_ERROR","Platform","select","ios","default","VisionCameraDynamsoftDocumentNormalizer","NativeModules","Proxy","get","Error","initLicense","license","initRuntimeSettingsFromString","template","detect","frame","__detect","detectAndNormalize","config","__detectAndNormalize","detectFile","url","normalizeFile","quad","rotateFile","degrees"],"sources":["index.tsx"],"sourcesContent":["import { NativeModules, Platform } from 'react-native';\nimport type { Frame } from 'react-native-vision-camera'\n\nconst LINKING_ERROR =\n  `The package 'vision-camera-dynamsoft-document-normalizer' doesn't seem to be linked. Make sure: \\n\\n` +\n  Platform.select({ ios: \"- You have run 'pod install'\\n\", default: '' }) +\n  '- You rebuilt the app after installing the package\\n' +\n  '- You are not using Expo managed workflow\\n';\n\nconst VisionCameraDynamsoftDocumentNormalizer = NativeModules.VisionCameraDynamsoftDocumentNormalizer  ? NativeModules.VisionCameraDynamsoftDocumentNormalizer  : new Proxy(\n      {},\n      {\n        get() {\n          throw new Error(LINKING_ERROR);\n        },\n      }\n    );\n\n/**\n * Init the license of Dynamsoft Document Normalizer\n */\nexport function initLicense(license:string): Promise<boolean> {\n  return VisionCameraDynamsoftDocumentNormalizer.initLicense(license);\n}\n\n/**\n * Init the runtime settings from a JSON template\n */\nexport function initRuntimeSettingsFromString(template:string): Promise<boolean> {\n  return VisionCameraDynamsoftDocumentNormalizer.initRuntimeSettingsFromString(template);\n}\n\n/**\n * Detect documents from the camera preview\n */\nexport function detect(frame: Frame): DetectedQuadResult[] {\n  'worklet'\n  // @ts-ignore\n  // eslint-disable-next-line no-undef\n  return __detect(frame, {})\n}\n\n/**\n * Detect documents from the the camera preview and return the normalized image of the first detected result\n */\nexport function detectAndNormalize(frame: Frame, config: NormalizationConfig): NormalizedImageResult {\n  // 'worklet'\n   // @ts-ignore\n   // eslint-disable-next-line no-undef\n   return __detectAndNormalize(frame, config)\n }\n\n\n/**\n * Detect documents in an image file\n */\nexport function detectFile(url:string): Promise<DetectedQuadResult[]> {\n  return VisionCameraDynamsoftDocumentNormalizer.detectFile(url);\n}\n\n/**\n * Normalize an image file\n */\nexport function normalizeFile(url:string, quad:Quadrilateral, config: NormalizationConfig): Promise<NormalizedImageResult> {\n  return VisionCameraDynamsoftDocumentNormalizer.normalizeFile(url, quad, config);\n}\n\n/**\n * Rotate an image file. Android only.\n */\n export function rotateFile(url:string, degrees:number): Promise<NormalizedImageResult> {\n  return VisionCameraDynamsoftDocumentNormalizer.rotateFile(url, degrees);\n}\n\n\n/**\n * Config of whether to save the normalized as a file and base64.\n */\nexport interface NormalizationConfig{\n  saveNormalizationResultAsFile?: boolean;\n  includeNormalizationResultAsBase64?: boolean;\n}\n\n/**\n * Normalization result containing the image path or base64\n */\nexport interface NormalizedImageResult {\n  imageURL?: string;\n  imageBase64?: string;\n}\n\nexport interface DetectedQuadResult {\n  location: Quadrilateral;\n  confidenceAsDocumentBoundary: number;\n}\n\nexport interface Point {\n  x:number;\n  y:number;\n}\n\nexport interface Quadrilateral {\n  points: [Point, Point, Point, Point];\n}\n\nexport interface Rect {\n  left:number;\n  right:number;\n  top:number;\n  bottom:number;\n  width:number;\n  height:number;\n}\n"],"mappings":";;;;;;;;;;;;AAAA;AAGA,MAAMA,aAAa,GAChB,sGAAqG,GACtGC,qBAAQ,CAACC,MAAM,CAAC;EAAEC,GAAG,EAAE,gCAAgC;EAAEC,OAAO,EAAE;AAAG,CAAC,CAAC,GACvE,sDAAsD,GACtD,6CAA6C;AAE/C,MAAMC,uCAAuC,GAAGC,0BAAa,CAACD,uCAAuC,GAAIC,0BAAa,CAACD,uCAAuC,GAAI,IAAIE,KAAK,CACrK,CAAC,CAAC,EACF;EACEC,GAAG,GAAG;IACJ,MAAM,IAAIC,KAAK,CAACT,aAAa,CAAC;EAChC;AACF,CAAC,CACF;;AAEL;AACA;AACA;AACO,SAASU,WAAW,CAACC,OAAc,EAAoB;EAC5D,OAAON,uCAAuC,CAACK,WAAW,CAACC,OAAO,CAAC;AACrE;;AAEA;AACA;AACA;AACO,SAASC,6BAA6B,CAACC,QAAe,EAAoB;EAC/E,OAAOR,uCAAuC,CAACO,6BAA6B,CAACC,QAAQ,CAAC;AACxF;;AAEA;AACA;AACA;AACO,SAASC,MAAM,CAACC,KAAY,EAAwB;EACzD,SAAS;;EACT;EACA;EACA,OAAOC,QAAQ,CAACD,KAAK,EAAE,CAAC,CAAC,CAAC;AAC5B;;AAEA;AACA;AACA;AACO,SAASE,kBAAkB,CAACF,KAAY,EAAEG,MAA2B,EAAyB;EACnG;EACC;EACA;EACA,OAAOC,oBAAoB,CAACJ,KAAK,EAAEG,MAAM,CAAC;AAC5C;;AAGD;AACA;AACA;AACO,SAASE,UAAU,CAACC,GAAU,EAAiC;EACpE,OAAOhB,uCAAuC,CAACe,UAAU,CAACC,GAAG,CAAC;AAChE;;AAEA;AACA;AACA;AACO,SAASC,aAAa,CAACD,GAAU,EAAEE,IAAkB,EAAEL,MAA2B,EAAkC;EACzH,OAAOb,uCAAuC,CAACiB,aAAa,CAACD,GAAG,EAAEE,IAAI,EAAEL,MAAM,CAAC;AACjF;;AAEA;AACA;AACA;AACQ,SAASM,UAAU,CAACH,GAAU,EAAEI,OAAc,EAAkC;EACtF,OAAOpB,uCAAuC,CAACmB,UAAU,CAACH,GAAG,EAAEI,OAAO,CAAC;AACzE;;AAGA;AACA;AACA"}